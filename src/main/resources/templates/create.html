<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html>
	<head>
	<meta charset="ISO-8859-1">
	<title>ciao</title>
	 <link rel="stylesheet" href="/webjars/bootstrap/5.3.2/css/bootstrap.min.css">
	 <link th:href="@{/css/style.css}" rel="stylesheet">
	</head>
	<body>	
		<header class="d-flex">
			<div class="p-5 border-end border-bottom">
				<h2>
					<a class="text-decoration-none" href="http://localhost:8080">
						Best Pizzas
					</a>
				</h2>
			</div>
			<div class="p-5 flex-grow-1 border-bottom">
				
			</div>
		</header>
		
		<main>
			<h1 class="text-center mt-5">
				Insert data of new Pizza
			</h1>
			
			<div class="w-50 m-auto border-top border-start border-end">
				<ul class="p-0 m-0">
				   <div class="text-center fs-2 border-bottom py-3">
        				<form
							th:object="${pizza}"
							method="POST">
							<div>
								<label for="name">Name</label>
								<input type="text" id="name" th:field="*{name}">
								<div th:if="${#fields.hasErrors('name')}">
									<ul>
										<li th:each="err : ${#fields.errors('name')}">
											<span class="text-danger" th:text="${err}"></span>
										</li>
									</ul>
								</div>
							</div>
							<div>
								<label for="descr">Description</label>
								<input type="text" id="descr" th:field="*{description}">
								<div th:if="${#fields.hasErrors('description')}">
									<ul>
										<li th:each="err : ${#fields.errors('description')}">
											<span class="text-danger" th:text="${err}"></span>
										</li>
									</ul>
								</div>
							</div>
							<div>
								<label for="img">Image URL</label>
								<input type="text" id="img" th:field="*{image}">
								<div th:if="${#fields.hasErrors('image')}">
									<ul>
										<li th:each="err : ${#fields.errors('image')}">
											<span class="text-danger" th:text="${err}"></span>
										</li>
									</ul>
								</div>
							</div>
							<div>
								<label for="price">Price</label>
								<input type="text" id="price" th:field="*{price}">
								<div th:if="${#fields.hasErrors('price')}">
									<ul>
										<li th:each="err : ${#fields.errors('price')}">
											 <span class="text-danger" th:text="${err}"></span>
										</li>
									</ul>
								</div>
							</div>
							<div
							th:each="ing : ${ingredients}"
							th:object="${ing}"
							>
							<label
							th:for="${'ingredient-' + ing.id}"
							>[[*{name}]]</label>
							<input type="checkbox"
							th:id="${'ingredient-' + ing.id}" 
							th:value="*{id}" 
							th:field="${pizza.ingredients}"
							>
							</div>
							<input class="mt-3 btn btn-success" type="submit" value="Save">
						</form>
    			   </div>
				</ul>
			</div>
		</main>
	</body>
</html>